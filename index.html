<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- OGP / SNSã‚·ã‚§ã‚¢ç”¨è¨­å®š -->
    <meta property="og:title" content="ãƒã‚ªè„³å†…ã‚¹ã‚­ãƒ£ãƒ³ãƒ¡ãƒ¼ã‚«ãƒ¼">
    <meta property="og:description" content="ç”»åƒã¨åå‰ã‚’å…¥åŠ›ã—ã¦ã€ã‚ãªãŸã®è„³å†…ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚½ã‚¦ãƒ«ï¼‰ã‚’è§£æã—ã‚ˆã†ï¼">
    <meta property="og:type" content="website">
    <meta property="og:image" content="ã“ã“ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸOGPç”»åƒã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"> <!-- ç”Ÿæˆã—ãŸç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦URLã‚’å·®ã—æ›¿ãˆã¦ãã ã•ã„ -->
    <meta name="twitter:card" content="summary_large_image">
    
    <title>ãƒã‚ªè„³å†…ã‚¹ã‚­ãƒ£ãƒ³ãƒ¡ãƒ¼ã‚«ãƒ¼</title>
    <!-- Tailwind CSSã®èª­ã¿è¾¼ã¿ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- html2canvas (ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆç”¨) -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«ã¨Tailwindè¨­å®šã®ä¸Šæ›¸ã */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=M+PLUS+Rounded+1c:wght@700&display=swap');
        
        :root {
            --neon-pink: #ff33cc;
            --neon-blue: #33ccff;
            --bg-dark: #1f2937;
        }

        body {
            font-family: 'Inter', 'M PLUS Rounded 1c', sans-serif;
            background-color: var(--bg-dark);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .neon-glow {
            box-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-pink), 0 0 20px var(--neon-blue);
        }

        .neon-button {
            color: var(--neon-pink);
            border: 2px solid var(--neon-pink);
            background-color: rgba(255, 51, 204, 0.1);
            transition: all 0.2s;
            text-shadow: 0 0 5px var(--neon-pink);
        }

        .neon-button:hover {
            color: var(--bg-dark);
            background-color: var(--neon-pink);
            box-shadow: 0 0 10px var(--neon-pink), 0 0 20px var(--neon-pink);
        }
        
        .share-button {
            background-color: #000000;
            color: white;
            border: 1px solid #333;
            transition: all 0.2s;
        }
        .share-button:hover {
            background-color: #1a1a1a;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }
        
        .save-button {
            background-color: #2563eb; /* blue-600 */
            color: white;
            border: 1px solid #3b82f6;
            transition: all 0.2s;
        }
        .save-button:hover {
            background-color: #1d4ed8;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        /* è„³å†…è¡¨ç¤ºã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #result-brain {
            width: 280px;
            height: 280px;
            border-radius: 50%;
            background-color: #000; 
            border: 3px solid var(--neon-blue);
            position: relative;
            margin: 20px auto;
            overflow: hidden;
            box-shadow: inset 0 0 15px var(--neon-blue), 0 0 25px var(--neon-blue);
            /* èƒŒæ™¯ç”»åƒã¯JSã§è¨­å®š */
            background-size: cover;
            background-position: center;
        }
        
        /* è„³å†…ã‚¹ã‚­ãƒ£ãƒ³é¢¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        #result-brain::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                radial-gradient(circle, transparent 60%, rgba(0, 0, 50, 0.8) 100%);
            background-size: 20px 20px, 20px 20px, 100% 100%;
            pointer-events: none;
            z-index: 1;
        }

        .brain-element {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
            text-align: center;
            padding: 2px;
            opacity: 0.95;
            transition: transform 0.5s ease-out, opacity 0.3s;
            cursor: default;
            z-index: 10;
            /* æ–‡å­—ã‚’è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚ã®ã‚·ãƒ£ãƒ‰ã‚¦ */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            line-height: 1.1;
            word-break: break-all;
        }

        .brain-element:hover {
            opacity: 1;
            z-index: 20;
            transform: scale(1.1);
        }

        /* --- ã‚¹ã‚­ãƒ£ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã‚¹ã‚¿ã‚¤ãƒ« --- */
        @keyframes scan-beam-anim {
            0% { top: 0%; opacity: 0.5; box-shadow: 0 0 10px var(--neon-blue); }
            50% { top: 100%; opacity: 1; box-shadow: 0 0 30px var(--neon-pink); }
            100% { top: 0%; opacity: 0.5; box-shadow: 0 0 10px var(--neon-blue); }
        }

        @keyframes glitch-anim {
            0% { transform: translate(0) }
            20% { transform: translate(-2px, 2px) }
            40% { transform: translate(-2px, -2px) }
            60% { transform: translate(2px, 2px) }
            80% { transform: translate(2px, -2px) }
            100% { transform: translate(0) }
        }

        @keyframes pulse-brain {
            0% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.05); opacity: 0.6; }
            100% { transform: scale(1); opacity: 0.3; }
        }
        
        @keyframes rainbow-border {
            0% { border-color: var(--neon-pink); box-shadow: 0 0 10px var(--neon-pink); }
            50% { border-color: var(--neon-blue); box-shadow: 0 0 10px var(--neon-blue); }
            100% { border-color: var(--neon-pink); box-shadow: 0 0 10px var(--neon-pink); }
        }

        .scan-beam {
            position: absolute;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--neon-blue), #fff, var(--neon-pink));
            animation: scan-beam-anim 1.5s linear infinite;
            z-index: 20;
        }

        .scanning-image-container {
            position: relative;
            overflow: hidden;
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-blue);
            animation: glitch-anim 0.3s infinite;
        }
        
        .promo-card {
            animation: rainbow-border 3s infinite linear;
        }
        
        /* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤ºæ™‚ã®èƒŒæ™¯ã¼ã‹ã— */
        .blur-bg {
            filter: blur(5px);
            pointer-events: none;
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ */
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        #screenshot-area {
            background-color: var(--bg-dark); /* ã‚­ãƒ£ãƒ—ãƒãƒ£æ™‚ã«èƒŒæ™¯è‰²ã‚’å¼·åˆ¶ */
        }
    </style>
</head>
<body class="bg-gray-900 flex flex-col items-center justify-start min-h-screen pt-10">

    <div id="main-content" class="w-full max-w-4xl p-4 sm:p-6 md:p-10 bg-gray-800 rounded-xl neon-glow transition-all duration-300">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-blue-400" style="text-shadow: 0 0 10px rgba(255, 51, 204, 0.6);">
            ğŸ§  ãƒã‚ªè„³å†…ã‚¹ã‚­ãƒ£ãƒ³ãƒ¡ãƒ¼ã‚«ãƒ¼ ğŸ’¡
        </h1>
        
        <!-- å…¥åŠ›ç”»é¢ (Input Screen) -->
        <div id="input-screen">
            <p class="text-center text-gray-400 mb-8 text-sm sm:text-base">ç”»åƒã¨åå‰ã‚’å…¥åŠ›ã—ã¦ã€ã‚ãªãŸã®è„³å†…ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚½ã‚¦ãƒ«ï¼‰ã‚’è§£æã—ã‚ˆã†ï¼</p>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <!-- åå‰å…¥åŠ› -->
                <div class="lg:col-span-2">
                    <label for="vtuber-name" class="block text-sm font-medium mb-2 text-pink-300">æ´»å‹•åï¼ˆãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ ï¼‰</label>
                    <input type="text" id="vtuber-name" placeholder="ä¾‹: å®‡å®™æœ€å¼·ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼" class="w-full p-3 rounded-lg bg-gray-700 border border-pink-500 focus:ring-2 focus:ring-blue-500 outline-none text-white transition duration-150" value="ãƒã‚ªã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼">
                </div>

                <!-- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ -->
                <div class="lg:col-span-1">
                    <label for="vtuber-image" class="block text-sm font-medium mb-2 text-pink-300">ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</label>
                    <div class="flex items-center space-x-4">
                        <!-- ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
                        <div id="image-preview" class="w-12 h-12 sm:w-14 sm:h-14 rounded-full border-2 border-blue-500 flex items-center justify-center overflow-hidden bg-gray-700 flex-shrink-0 bg-cover bg-center">
                            <span class="text-xs text-gray-400">ç”»åƒ</span>
                        </div>
                        <input type="file" id="vtuber-image" accept="image/*" class="hidden" onchange="previewImage(event)">
                        <button onclick="document.getElementById('vtuber-image').click()" class="flex-grow p-3 sm:p-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-bold transition duration-150 text-sm sm:text-base">
                            ç”»åƒã‚’é¸æŠ
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- ã‚¹ã‚­ãƒ£ãƒ³å®Ÿè¡Œãƒœã‚¿ãƒ³ -->
            <button id="scan-button" class="neon-button w-full p-4 text-xl font-bold rounded-xl mb-6" onclick="startScan()">
                âœ¨ è„³å†…ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ï¼ âœ¨
            </button>
            <p class="text-xs text-center text-gray-500">â€»ç”»åƒã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§ã®ã¿å‡¦ç†ã•ã‚Œã€å¤–éƒ¨ã«ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚</p>
        </div>

        <!-- çµæœç”»é¢ (Result Screen) - åˆæœŸã¯éè¡¨ç¤º -->
        <div id="result-screen" class="hidden animate-fade-in">
            
            <!-- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå¯¾è±¡ã‚¨ãƒªã‚¢ (ID: screenshot-area) -->
            <div id="screenshot-area" class="p-4 rounded-xl mb-4 bg-gray-800">
                <h2 id="result-title" class="text-2xl sm:text-3xl font-bold text-center mb-6 text-yellow-300" style="text-shadow: 0 0 5px rgba(255, 255, 0, 0.5);"></h2>
                
                <div class="flex flex-col md:flex-row gap-6 md:gap-8 mb-4">
                    <!-- è„³å†…ã‚°ãƒ©ãƒ• (å·¦å´) -->
                    <div class="md:w-1/2 flex flex-col items-center">
                        <h3 class="text-lg sm:text-xl font-semibold mb-3 text-blue-300 border-b border-blue-800 pb-1 w-full text-center">ã‚¹ã‚­ãƒ£ãƒ³çµæœ</h3>
                        <div id="result-brain" class="relative">
                            <!-- ã“ã“ã«è„³å†…è¦ç´ ãŒé…ç½®ã•ã‚Œã¾ã™ -->
                        </div>
                    </div>

                    <!-- æ§‹æˆè¦ç´ ãƒªã‚¹ãƒˆ (å³å´) -->
                    <div class="md:w-1/2">
                        <h3 class="text-lg sm:text-xl font-semibold mb-3 text-pink-300 border-b border-pink-800 pb-1 text-center md:text-left">æˆåˆ†è©³ç´°</h3>
                        <div id="result-list" class="space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                            <!-- ã“ã“ã«çµæœãƒªã‚¹ãƒˆãŒæŒ¿å…¥ã•ã‚Œã¾ã™ -->
                        </div>
                    </div>
                </div>
                <div class="text-right text-xs text-gray-500 mt-2">ãƒã‚ªè„³å†…ã‚¹ã‚­ãƒ£ãƒ³ãƒ¡ãƒ¼ã‚«ãƒ¼</div>
            </div>

            <p class="text-xs text-gray-400 mb-6 text-center">â€»ç”»åƒã¯ã‚ãªãŸã®è„³å†…ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™</p>

            <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ -->
            <div class="flex flex-col md:flex-row gap-3 justify-center mb-8 px-2">
                <!-- ç”»åƒä¿å­˜ãƒœã‚¿ãƒ³ -->
                <button id="save-btn" onclick="saveResultImage()" class="save-button w-full md:w-auto px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2">
                    <i class="fas fa-camera text-xl"></i> ç”»åƒã‚’ä¿å­˜
                </button>

                <!-- Twitterã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ -->
                <button onclick="shareOnTwitter()" class="share-button w-full md:w-auto px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2">
                    <i class="fab fa-x-twitter text-xl"></i> çµæœã‚’ãƒã‚¹ãƒˆ
                </button>
                
                <!-- ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ -->
                <button onclick="resetApp()" class="w-full md:w-auto px-6 py-3 rounded-xl bg-gray-700 hover:bg-gray-600 text-white font-bold border border-gray-500 transition duration-150">
                    ğŸ”„ ã‚‚ã†ä¸€åº¦
                </button>
            </div>
            
            <!-- ã‚¤ãƒ™ãƒ³ãƒˆå®£ä¼ã‚¨ãƒªã‚¢ (ç„¡è¨±å¯ã‚³ãƒ©ãƒœ) -->
            <div class="mt-8 border-t border-gray-700 pt-6">
                <div class="promo-card bg-gray-900/80 border border-pink-500 rounded-xl p-4 sm:p-6 text-center relative overflow-hidden group">
                    <!-- èƒŒæ™¯ã®ã‚­ãƒ©ã‚­ãƒ© -->
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-pink-500/5 to-transparent animate-pulse pointer-events-none"></div>
                    
                    <p class="text-xs text-pink-400 font-bold mb-2 tracking-widest uppercase">âš ï¸ Special Unofficial Collaboration âš ï¸</p>
                    
                    <!-- ã‚¤ãƒ™ãƒ³ãƒˆã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ -->
                    <div class="mb-4 relative inline-block">
                        <img src="https://cluster-file-storage.imgix.net/uploads/group_2b8ac7ce1129d3366d2f78c5fe/f5522665-923a-4b04-aeea-d4c8695dabb8/669451ff-c540-4141-93ed-9678b207b1ac.png" 
                             alt="ã‚¤ãƒ™ãƒ³ãƒˆã‚µãƒ ãƒã‚¤ãƒ«" 
                             class="w-full max-w-[300px] mx-auto rounded-lg border-2 border-pink-500/30 shadow-[0_0_15px_rgba(236,72,153,0.3)] transition-transform duration-300 group-hover:scale-105">
                        <!-- ç”»åƒä¸Šã®è£…é£¾ -->
                        <div class="absolute -top-2 -right-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full transform rotate-12 shadow-md">
                            CHECK!
                        </div>
                    </div>

                    <h3 class="text-xl sm:text-2xl font-bold text-white mb-1">å®Ÿã¯é›£ã—ããªã„ï¼ã€Œã¤ãã‚‹ã€ã®æºæµ</h3>
                    <p class="text-sm text-gray-300 mb-4">ã€œã‹ã‚ã—ãƒã®è„³å†…ãŒè¦‹ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã€œ</p>
                    
                    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                        <div class="bg-gray-800 px-4 py-2 rounded-lg border border-blue-500/30 text-blue-300">
                            <i class="far fa-clock mr-2"></i>2025/12/26ï¼ˆé‡‘ï¼‰OPEN 21:00
                        </div>
                        <a href="https://cluster.mu/e/a0ba013b-88b0-4553-9562-cf95c7f9610d" target="_blank" class="inline-flex items-center justify-center bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white font-bold py-2 px-6 rounded-full transition transform hover:scale-105 shadow-lg shadow-pink-500/30">
                            ã‚¤ãƒ™ãƒ³ãƒˆä¼šå ´ã¸GO! <i class="fas fa-external-link-alt ml-2 text-sm"></i>
                        </a>
                    </div>
                    <p class="text-[10px] text-gray-600 mt-2">â€»ã“ã®ã‚¢ãƒ—ãƒªã¯ã‚¤ãƒ™ãƒ³ãƒˆå…¬èªã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å‹æ‰‹ã«å¿œæ´ã—ã¦ã„ã¾ã™ï¼</p>
                </div>
            </div>
        </div>

        <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ -->
        <div id="message-box" class="fixed bottom-5 right-5 p-3 rounded-lg shadow-lg bg-red-600 text-white hidden z-50"></div>
    </div>

    <!-- ã‚¹ã‚­ãƒ£ãƒ³æ¼”å‡ºç”¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ (åˆæœŸã¯éè¡¨ç¤º) -->
    <div id="scan-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/95 hidden flex-col">
        <div class="relative w-64 h-64 sm:w-80 sm:h-80 scanning-image-container rounded-xl bg-gray-800">
            <!-- ã‚¹ã‚­ãƒ£ãƒ³å¯¾è±¡ç”»åƒ -->
            <img id="scan-target-img" src="" class="absolute inset-0 w-full h-full object-cover opacity-60" alt="Scan Target">
            
            <!-- è„³ã®ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ é¢¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ (SVG) -->
            <div class="absolute inset-0 flex items-center justify-center z-10" style="animation: pulse-brain 0.5s infinite alternate;">
                <svg viewBox="0 0 100 100" class="w-4/5 h-4/5 fill-current text-pink-500 opacity-50">
                    <path d="M50 15 C30 15 15 30 15 50 C15 70 30 85 50 85 C70 85 85 70 85 50 C85 30 70 15 50 15 M30 40 C35 35 45 35 50 40 C55 35 65 35 70 40 M30 60 C35 65 45 65 50 60 C55 65 65 65 70 60" 
                          stroke="currentColor" stroke-width="2" fill="none" />
                    <path d="M50 20 L50 80 M20 50 L80 50" stroke="currentColor" stroke-width="1" stroke-dasharray="2,2" />
                </svg>
            </div>
            
            <!-- ã‚¹ã‚­ãƒ£ãƒ³ãƒ“ãƒ¼ãƒ  -->
            <div class="scan-beam"></div>

            <!-- ã‚°ãƒªãƒƒãƒ‰ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
            <div class="absolute inset-0 bg-[linear-gradient(rgba(0,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,255,0.1)_1px,transparent_1px)] bg-[size:20px_20px] z-20"></div>
        </div>

        <div class="mt-8 text-center space-y-2">
            <h2 class="text-3xl sm:text-4xl font-black text-pink-500 tracking-widest animate-pulse" style="text-shadow: 2px 2px 0px cyan;">SCANNING...</h2>
            <p class="text-blue-300 font-mono text-sm sm:text-base">NEURAL SYNC: <span id="sync-rate">0</span>%</p>
            <p class="text-xs text-gray-500 animate-pulse">Analyzing Synapse Patterns...</p>
        </div>
    </div>

    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        const apiKey = "";
        let currentImageSrc = null; // ç¾åœ¨é¸æŠã•ã‚Œã¦ã„ã‚‹ç”»åƒã®ã‚½ãƒ¼ã‚¹ã‚’ä¿æŒ
        let currentResults = [];    // ç¾åœ¨ã®çµæœã‚’ä¿æŒï¼ˆã‚·ã‚§ã‚¢ç”¨ï¼‰
        let currentName = "";       // ç¾åœ¨ã®åå‰ã‚’ä¿æŒï¼ˆã‚·ã‚§ã‚¢ç”¨ï¼‰

        // æ‹¡å¼µã•ã‚ŒãŸè„³å†…ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆ (ã‚«ã‚ªã‚¹å¢—é‡ç‰ˆ)
        const V_BRAIN_ELEMENTS = [
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
            { name: "é£Ÿ", color: "#FF9966", neon: "#FFCC99" },
            { name: "æ„›", color: "#FF6699", neon: "#FF99CC" },
            { name: "ãƒ ãƒ•ãƒ•", color: "#FF33CC", neon: "#FF66FF" }, // "ã‚¨ãƒ­"ã®ä»£æ›¿
            { name: "è‚‰", color: "#CC3300", neon: "#FF6633" },
            { name: "ç­‹è‚‰", color: "#CC6600", neon: "#FF9933" },
            { name: "ã‚¢ãƒ•ãƒ­", color: "#663300", neon: "#996633" },
            { name: "åœ°ç„", color: "#330000", neon: "#FF0000" },
            { name: "ã‚­ãƒ¥ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«", color: "#FFCCFF", neon: "#FFFFFF" },
            { name: "ã—ã—ã‚ƒã‚‚", color: "#999966", neon: "#CCCC99" },
            { name: "ãŠé­š", color: "#3399CC", neon: "#66CCFF" },
            { name: "ãŠé‡‘", color: "#FFD700", neon: "#FFFF33" },
            { name: "AI", color: "#00CCFF", neon: "#33FFFF" },
            { name: "ãŠã£ã±ã„", color: "#FFCCCC", neon: "#FFEEEE" },
            { name: "å°»", color: "#FFCC99", neon: "#FFEebb" },
            { name: "å®‡å®™ãƒ‘ãƒ¯ãƒ¼", color: "#6600CC", neon: "#9933FF" },
            { name: "å—ã‘", color: "#9999FF", neon: "#CCCCFF" },
            { name: "æ”»ã‚", color: "#6666CC", neon: "#9999FF" },
            { name: "5G", color: "#00FF99", neon: "#33FFCC" },
            { name: "è‡ªç„¶", color: "#33CC33", neon: "#66FF66" },
            { name: "é›»æ³¢", color: "#CC00FF", neon: "#FF33FF" },
            { name: "ä¸–ç•Œå¹³å’Œ", color: "#FFFFFF", neon: "#CCFFFF" },
            { name: "ã‚«ã‚ªã‚¹", color: "#333333", neon: "#999999" },
            { name: "ä¸–ç•Œå¾æœ", color: "#660000", neon: "#FF3333" },
            
            // ä»¥ä¸‹è¿½åŠ è¦ç´ 
            { name: "æ¨ã—", color: "#FF3366", neon: "#FF6699" },
            { name: "è™šç„¡", color: "#000000", neon: "#666666" },
            { name: "ãƒ©ãƒ¼ãƒ¡ãƒ³", color: "#FF9933", neon: "#FFCC66" },
            { name: "çŒ«å¸ã„", color: "#FFCCFF", neon: "#FF99FF" },
            { name: "çŠ¬", color: "#CC9966", neon: "#FFCC99" },
            { name: "å¸ƒå›£", color: "#FFFFFF", neon: "#E0E0E0" },
            { name: "ä¼‘æ—¥", color: "#00FF00", neon: "#66FF66" },
            { name: "æ®‹æ¥­", color: "#000033", neon: "#333366" },
            { name: "ã€†åˆ‡", color: "#FF0000", neon: "#FF3333" },
            { name: "æ‰¿èªæ¬²æ±‚", color: "#FF00FF", neon: "#FF66FF" },
            { name: "é—‡", color: "#1a1a1a", neon: "#4d4d4d" },
            { name: "å…‰", color: "#FFFFCC", neon: "#FFFFFF" },
            { name: "å¸Œæœ›", color: "#FFFF00", neon: "#FFFF66" },
            { name: "çµ¶æœ›", color: "#000066", neon: "#333399" },
            { name: "å¯¿å¸", color: "#FF3333", neon: "#FF6666" },
            { name: "ã‚µã‚¦ãƒŠ", color: "#99CCFF", neon: "#CCEEFF" },
            { name: "ç­‹ãƒˆãƒ¬", color: "#FF6600", neon: "#FF9933" },
            { name: "ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³", color: "#FFFF99", neon: "#FFFFCC" },
            { name: "çˆ†ç™º", color: "#FF3300", neon: "#FF6600" },
            { name: "ç‚ä¸Š", color: "#FF0000", neon: "#FF3333" },
            { name: "å‹æƒ…", color: "#33CCFF", neon: "#66FFFF" },
            { name: "èª²é‡‘", color: "#FFD700", neon: "#FFFF00" },
            { name: "ã‚¬ãƒãƒ£", color: "#CC66FF", neon: "#FF99FF" },
            { name: "çˆ†æ­»", color: "#333333", neon: "#666666" },
            { name: "ç¥å¼•ã", color: "#FFFFCC", neon: "#FFFFFF" },
            { name: "å°Šã„", color: "#FF99CC", neon: "#FFBBDD" },
            { name: "ã—ã‚“ã©ã„", color: "#999999", neon: "#CCCCCC" },
            { name: "ç„¡ç†", color: "#000000", neon: "#333333" },
            { name: "å¥½ã", color: "#FF3366", neon: "#FF6699" },
            { name: "å˜˜", color: "#660066", neon: "#993399" },
            { name: "çœŸå®Ÿ", color: "#FFFFFF", neon: "#CCFFFF" },
            { name: "é‹å‘½", color: "#FF00CC", neon: "#FF66FF" },
            { name: "é©å‘½", color: "#FF0000", neon: "#FF6666" },
            { name: "ä¼èª¬", color: "#FFD700", neon: "#FFFF99" },
            { name: "ç¥", color: "#FFFFEE", neon: "#FFFFFF" },
            { name: "æ‚ªé­”", color: "#330033", neon: "#660066" },
            { name: "å¤©ä½¿", color: "#EEFFFF", neon: "#FFFFFF" },
            { name: "ç•°ä¸–ç•Œ", color: "#9933CC", neon: "#CC66FF" },
            { name: "è»¢ç”Ÿ", color: "#33CCCC", neon: "#66FFFF" },
            { name: "ãƒãƒ¼ãƒˆ", color: "#FF00FF", neon: "#FF66FF" },
            { name: "ãƒãƒ¼ãƒ¬ãƒ ", color: "#FF6699", neon: "#FF99CC" },
            { name: "ç´”æ„›", color: "#FFCCCC", neon: "#FFFFFF" },
            { name: "å©šæ´»", color: "#FF9999", neon: "#FFCCCC" },
            { name: "è²¯é‡‘", color: "#CCCCCC", neon: "#EEEEEE" },
            { name: "å€Ÿé‡‘", color: "#333333", neon: "#666666" },
            { name: "ç¨é‡‘", color: "#000000", neon: "#333333" },
            { name: "æŠ•è³‡", color: "#339933", neon: "#66CC66" },
            { name: "ä»®æƒ³é€šè²¨", color: "#FFCC00", neon: "#FFDD33" },
            { name: "ãƒ¡ã‚¿ãƒãƒ¼ã‚¹", color: "#3300CC", neon: "#6633FF" },
            { name: "VR", color: "#00FFFF", neon: "#66FFFF" },
            { name: "æ„è­˜é«˜ã„", color: "#003366", neon: "#336699" },
            { name: "ãƒ‰ãƒ¤é¡”", color: "#FF6633", neon: "#FF9966" },
            { name: "å¤‰é¡”", color: "#99CC00", neon: "#CCFF33" },
            { name: "ç¬‘é¡”", color: "#FFFF00", neon: "#FFFF66" },
            { name: "å®šæ™‚é€€ç¤¾", color: "#66FF66", neon: "#99FF99" },
            { name: "æœ‰çµ¦", color: "#33FF33", neon: "#66FF66" },
            { name: "äºŒåº¦å¯", color: "#CCCCFF", neon: "#EEEEFF" },
            { name: "å¤œé£Ÿ", color: "#996633", neon: "#CC9966" },
            { name: "ç³–è³ª", color: "#FFFFFF", neon: "#FFFFCC" },
            { name: "è„‚è³ª", color: "#FFFF66", neon: "#FFFFAA" },
            { name: "ã‚«ãƒ•ã‚§ã‚¤ãƒ³", color: "#663300", neon: "#996633" },
            { name: "ã‚¨ãƒŠãƒ‰ãƒª", color: "#00FF00", neon: "#66FF00" },
            { name: "è«–ç ´", color: "#000099", neon: "#3333CC" },
            { name: "ãƒã‚¦ãƒ³ãƒˆ", color: "#660000", neon: "#993333" },
            { name: "é™°ã‚­ãƒ£", color: "#333366", neon: "#666699" },
            { name: "é™½ã‚­ãƒ£", color: "#FF9900", neon: "#FFBB33" },
            { name: "ãƒ‘ãƒªãƒ”", color: "#FF0099", neon: "#FF33CC" },
            { name: "ã‚ªã‚¿ã‚¯", color: "#666666", neon: "#999999" },
            { name: "å°Šæ­»", color: "#CC99FF", neon: "#EECCFF" },
            { name: "é™ç•Œ", color: "#330000", neon: "#660000" },
            { name: "å„ªå‹", color: "#FFCC33", neon: "#FFEE66" },
            { name: "å¤©æ‰", color: "#00CCFF", neon: "#66EEFF" },
            { name: "ãƒãƒ³ã‚³ãƒ„", color: "#FF9966", neon: "#FFBB99" },
            { name: "ãƒãƒ–ã¿", color: "#FFCCFF", neon: "#FFEEFF" },
            { name: "ãƒãƒ", color: "#FF9999", neon: "#FFCCCC" },
            { name: "ãƒ‘ãƒ‘", color: "#6699FF", neon: "#99CCFF" },
            { name: "çŸ³æ²¹ç‹", color: "#333333", neon: "#666666" },
            { name: "ä¸åŠ´æ‰€å¾—", color: "#FFFF00", neon: "#FFFF66" },
            { name: "ã‚¿ãƒ”ã‚ªã‚«", color: "#663300", neon: "#996633" },
            { name: "ãƒãƒªãƒˆãƒƒãƒ„ã‚©", color: "#FFFFFF", neon: "#FFFFEE" },
            { name: "æ˜­å’Œ", color: "#996633", neon: "#CC9966" },
            { name: "å¹³æˆ", color: "#0033CC", neon: "#3366FF" },
            { name: "ä»¤å’Œ", color: "#FFCCFF", neon: "#FFEEFF" },
            { name: "ã‚®ãƒ£ãƒ³ãƒ–ãƒ«", color: "#CC0000", neon: "#FF3333" },
            { name: "å®ãã˜", color: "#FFCC00", neon: "#FFDD33" },
            { name: "ã‚µãƒœã‚Š", color: "#99CC99", neon: "#BBEEBB" },
            { name: "èª˜æƒ‘", color: "#CC00CC", neon: "#FF33FF" },
            { name: "ç…©æ‚©", color: "#660066", neon: "#990099" },
            { name: "æ‚Ÿã‚Š", color: "#FFFFFF", neon: "#EEFFFF" },
            { name: "è§£è„±", color: "#FFFFCC", neon: "#FFFFEE" },
            { name: "ã‚‚ãµã‚‚ãµ", color: "#FFCC99", neon: "#FFEEDD" },
            { name: "ã·ã«ã·ã«", color: "#FF99CC", neon: "#FFBBDD" },
            { name: "ãƒ„ãƒ³ãƒ‡ãƒ¬", color: "#FF6600", neon: "#FF9933" },
            { name: "ãƒ¤ãƒ³ãƒ‡ãƒ¬", color: "#990033", neon: "#CC0066" },
            { name: "é»’æ­´å²", color: "#000000", neon: "#333333" }
        ];

        function showMessage(message, duration = 3000) {
            const box = document.getElementById('message-box');
            box.textContent = message;
            box.classList.remove('hidden', 'bg-red-600', 'bg-green-600');
            box.classList.add('bg-red-600');
            setTimeout(() => {
                box.classList.add('hidden');
            }, duration);
        }

        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function(){
                const output = document.getElementById('image-preview');
                output.innerHTML = '';
                currentImageSrc = reader.result; 
                output.style.backgroundImage = `url(${reader.result})`;
            }
            if (event.target.files[0]) {
                 reader.readAsDataURL(event.target.files[0]);
            } else {
                document.getElementById('image-preview').innerHTML = '<span class="text-xs text-gray-400">ç”»åƒ</span>';
                document.getElementById('image-preview').style.backgroundImage = 'none';
                currentImageSrc = null;
            }
        }

        function startScan() {
            const name = document.getElementById('vtuber-name').value.trim();
            if (name === "") {
                showMessage("åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼");
                return;
            }
            currentName = name;

            const inputScreen = document.getElementById('input-screen');
            const scanOverlay = document.getElementById('scan-overlay');
            const scanTargetImg = document.getElementById('scan-target-img');
            const mainContent = document.getElementById('main-content');
            
            // å…¥åŠ›ç”»é¢ã‚’éš ã™
            inputScreen.classList.add('hidden');
            
            // ã‚¹ã‚­ãƒ£ãƒ³æ¼”å‡ºã®æº–å‚™
            if (currentImageSrc) {
                scanTargetImg.src = currentImageSrc;
                scanTargetImg.style.display = 'block';
            } else {
                scanTargetImg.style.display = 'none'; 
                // ç”»åƒãŒãªã„å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆèƒŒæ™¯è‰²ãªã©
                scanTargetImg.parentElement.style.backgroundColor = '#111';
            }

            // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’è¡¨ç¤º
            scanOverlay.classList.remove('hidden');
            mainContent.classList.add('blur-bg');

            // é€²æ—ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            let progress = 0;
            const syncRate = document.getElementById('sync-rate');
            const interval = setInterval(() => {
                progress += Math.floor(Math.random() * 5) + 2;
                if (progress > 100) progress = 100;
                syncRate.textContent = progress;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    finishScan(name);
                }
            }, 60); // å°‘ã—é«˜é€ŸåŒ–
        }

        function finishScan(name) {
            setTimeout(() => {
                const scanOverlay = document.getElementById('scan-overlay');
                const resultScreen = document.getElementById('result-screen');
                const mainContent = document.getElementById('main-content');
                
                // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’éš ã™
                scanOverlay.classList.add('hidden');
                mainContent.classList.remove('blur-bg');

                // çµæœç”Ÿæˆã¨è¡¨ç¤º
                const results = generateBrainComposition(name);
                currentResults = results; // ã‚·ã‚§ã‚¢ç”¨ã«ä¿å­˜
                displayResults(name, results);
                
                // çµæœç”»é¢ã‚’è¡¨ç¤º
                resultScreen.classList.remove('hidden');
                
            }, 300);
        }

        function resetApp() {
            // çµæœç”»é¢ã‚’éš ã—ã€å…¥åŠ›ç”»é¢ã‚’è¡¨ç¤º
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('input-screen').classList.remove('hidden');
            // åå‰å…¥åŠ›æ¬„ãªã©ã¯ãã®ã¾ã¾æ®‹ã™ï¼ˆé€£ç¶šã§ã‚„ã‚Šç›´ã—ã‚„ã™ã„ã‚ˆã†ã«ï¼‰
        }

        function generateBrainComposition(name) {
            let seed = name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0) % 1000;
            const pseudoRandom = () => {
                seed = (seed * 9301 + 49297) % 233280;
                return seed / 233280.0;
            };

            const composition = [];
            let totalPercentage = 100;
            
            const shuffledElements = [...V_BRAIN_ELEMENTS].sort(() => pseudoRandom() - 0.5);
            const numElements = Math.floor(pseudoRandom() * 4) + 6;
            const selectedElements = shuffledElements.slice(0, numElements);

            for (let i = 0; i < selectedElements.length; i++) {
                let percentage;
                if (i === selectedElements.length - 1) {
                    percentage = totalPercentage;
                } else {
                    const max = Math.min(totalPercentage * 0.6, totalPercentage - (selectedElements.length - 1 - i) * 5);
                    percentage = Math.max(5, Math.floor(pseudoRandom() * (max - 5 + 1)) + 5);
                }
                
                composition.push({
                    name: selectedElements[i].name,
                    percentage: percentage,
                    color: selectedElements[i].color,
                    neon: selectedElements[i].neon,
                    size: Math.sqrt(percentage) * 16 + 35, 
                });

                totalPercentage -= percentage;
            }

            if (composition.length > 0) {
                const finalSum = composition.reduce((sum, item) => sum + item.percentage, 0);
                composition[0].percentage += (100 - finalSum);
                composition[0].size = Math.sqrt(composition[0].percentage) * 16 + 35;
            }

            return composition.sort((a, b) => b.percentage - a.percentage);
        }

        function displayResults(name, results) {
            const titleElement = document.getElementById('result-title');
            const listElement = document.getElementById('result-list');
            const brainElement = document.getElementById('result-brain');

            titleElement.textContent = `${name} ã®è„³å†…`;
            listElement.innerHTML = '';
            brainElement.innerHTML = '';

            // èƒŒæ™¯ç”»åƒã®ã‚»ãƒƒãƒˆ
            if (currentImageSrc) {
                brainElement.style.backgroundImage = `url(${currentImageSrc})`;
                brainElement.style.backgroundColor = 'rgba(0,0,0,0.5)';
                brainElement.style.backgroundBlendMode = 'overlay';
            } else {
                brainElement.style.backgroundImage = 'none';
                brainElement.style.backgroundColor = '#111';
                brainElement.style.backgroundBlendMode = 'normal';
            }

            // ãƒªã‚¹ãƒˆç”Ÿæˆ
            results.forEach(item => {
                const listItem = document.createElement('div');
                listItem.className = 'flex justify-between items-center p-2 rounded-lg bg-gray-700/50 hover:bg-gray-700 transition';
                listItem.innerHTML = `
                    <span class="text-base font-medium flex items-center gap-2">
                        <span class="w-3 h-3 rounded-full shadow-[0_0_5px_currentColor]" style="background-color: ${item.color}; color: ${item.neon}"></span>
                        ${item.name}
                    </span>
                    <span class="text-xl font-bold" style="color: ${item.neon}; text-shadow: 0 0 5px ${item.color};">${item.percentage}%</span>
                `;
                listElement.appendChild(listItem);
            });

            // è„³å†…ãƒãƒ–ãƒ«ç”Ÿæˆ
            const brainRadius = 140; // width 280 / 2
            let angle = 0;
            
            results.forEach((item, index) => {
                const element = document.createElement('div');
                element.className = 'brain-element';
                
                element.style.width = `${item.size}px`;
                element.style.height = `${item.size}px`;
                element.style.backgroundColor = `rgba(${hexToRgb(item.color)}, 0.65)`;
                element.style.color = '#fff';
                element.style.border = `2px solid ${item.neon}`;
                element.style.boxShadow = `0 0 15px ${item.color}, inset 0 0 10px rgba(0,0,0,0.2)`;
                
                element.innerHTML = `
                    <span style="font-size: ${Math.max(10, item.size / 3.5)}px;">${item.name}</span>
                    <span style="font-size: ${Math.max(9, item.size / 4.5)}px; opacity: 0.9;">${item.percentage}%</span>
                `;

                const radiusOffset = 0.2 + (Math.random() * 0.6) * (1 - item.size / (brainRadius * 2));
                const distance = Math.min(brainRadius - item.size / 2 - 5, brainRadius * radiusOffset);
                
                const sectorSize = 360 / results.length;
                const randomAngle = angle + (Math.random() * sectorSize * 0.8); 
                
                const x = Math.cos(randomAngle * (Math.PI / 180)) * distance;
                const y = Math.sin(randomAngle * (Math.PI / 180)) * distance;
                
                element.style.left = `${brainRadius + x - item.size / 2}px`;
                element.style.top = `${brainRadius + y - item.size / 2}px`;
                element.style.zIndex = 100 - index; 

                brainElement.appendChild(element);
                
                angle += sectorSize;
            });
        }
        
        // ãƒ˜ãƒ«ãƒ‘ãƒ¼: Hex to RGB
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? 
                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` 
                : '0,0,0';
        }

        // ç”»åƒã‚’ä¿å­˜ã™ã‚‹é–¢æ•°
        function saveResultImage() {
            if (!currentResults || currentResults.length === 0) return;

            const target = document.getElementById('screenshot-area');
            const btn = document.getElementById('save-btn');
            const originalText = btn.innerHTML;
            
            // ãƒœã‚¿ãƒ³ã‚’ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã«
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ç”Ÿæˆä¸­...';
            btn.disabled = true;

            // html2canvasã§ã‚­ãƒ£ãƒ—ãƒãƒ£
            html2canvas(target, {
                scale: 2, // é«˜è§£åƒåº¦ã§ã‚­ãƒ£ãƒ—ãƒãƒ£
                backgroundColor: "#1f2937", // èƒŒæ™¯è‰²ã‚’æŒ‡å®š (Tailwind gray-900)
                useCORS: true, // ç”»åƒã®CORSå¯¾å¿œ
                logging: false
            }).then(canvas => {
                // ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                const link = document.createElement('a');
                link.download = `neo_brain_scan_${currentName}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
                showMessage("ç”»åƒã‚’ä¿å­˜ã—ã¾ã—ãŸï¼", 3000);
                
                // ãƒœã‚¿ãƒ³ã‚’æˆ»ã™
                btn.innerHTML = originalText;
                btn.disabled = false;
            }).catch(err => {
                console.error("Capture failed:", err);
                showMessage("ç”»åƒã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ...");
                btn.innerHTML = originalText;
                btn.disabled = false;
            });
        }

        // Twitter Intentã‚’é–‹ã (ãƒ†ã‚­ã‚¹ãƒˆã®ã¿)
        function shareOnTwitter() {
            if (!currentResults || currentResults.length === 0) return;

            // ä¸Šä½3ã¤ã®è¦ç´ ã‚’æŠ½å‡º
            const top3 = currentResults.slice(0, 3).map(r => `${r.name}(${r.percentage}%)`).join('ã€');
            
            const text = `${currentName} ã®è„³å†…ã¯â€¦\n\n${top3} ãªã©ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼\n\n#ãƒã‚ªè„³å†…ã‚¹ã‚­ãƒ£ãƒ³ãƒ¡ãƒ¼ã‚«ãƒ¼\n`;
            
            // ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹URLï¼ˆã¾ãŸã¯ç¾åœ¨ã®URLï¼‰
            const url = window.location.href; 
            
            const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
            
            window.open(tweetUrl, '_blank');
        }
        
        // åˆæœŸåŒ–
        window.onload = () => {
            const nameInput = document.getElementById('vtuber-name');
            nameInput.value = "ãƒã‚ªã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼";
            // ã‚¹ã‚­ãƒ£ãƒ³ã¯è‡ªå‹•ã‚¹ã‚¿ãƒ¼ãƒˆã—ãªã„ï¼ˆå…¥åŠ›ç”»é¢ã‹ã‚‰å§‹ã‚ã‚‹ï¼‰
        };

    </script>
</body>
</html>